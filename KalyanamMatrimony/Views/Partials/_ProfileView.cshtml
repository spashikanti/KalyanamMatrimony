@model KalyanamMatrimony.ViewModels.EditUserProfileViewModel

@{
    var photoPath1 = "/images/" + (Model.ExistingPhotoPath1 ?? "noimageThumb400.jpg");
    //var photoPath2 = "/images/" + (Model.ExistingPhotoPath2 ?? "noimageThumb400.jpg");
    //var photoPath3 = "/images/" + (Model.ExistingPhotoPath3 ?? "noimageThumb400.jpg");

    string userId = Context.Request.Query["userId"].ToString();
}

    <div class="card shadow-lg border-0 rounded-lg" style="width:100%">
        <div class="card-header bg-dark text-white">
            <div class="row">
                <div class="col-md-10">
                    <h5 class="text-white">
                        <strong>
                            @Html.DisplayFor(model => model.FirstName) @Html.DisplayFor(model => model.LastName)
                        </strong>- @Html.DisplayFor(model => model.ProfileId)
                    </h5>
                </div>
                <div class="col-md-2">
                    @if (userId == string.Empty)
                    {
                        <a class="btn btn-success" asp-controller="profile" asp-action="Search">
                            <strong>Search Profiles</strong>
                        </a>
                    }
                    else
                    {
                        <a href="#" class="btn btn-danger" onclick="getProfileDetails(this)"
                           data-toggle="modal" data-target="#deleteModal"
                           data-id="@Model.UserId" data-fullname="@Model.FirstName @Model.LastName">
                            <strong>Delete Profile</strong>
                        </a>
                    }
                </div>
            </div>
        </div>
        
        <div class="card-body">
            <p class="card-text" data-aos="fade-right">
                @Html.DisplayFor(model => model.AboutYourself)
            </p>
            <div class="card-group">
                <div>
                    <div class="card-body" style="width:312px; height:auto">
                        <img class="img-fluid" id="imgProfile1" src="@photoPath1" asp-append-version="true" data-aos="fade-right" />
                    </div>
                </div>
                <div class="card border-dark mb-3">
                    <div class="card-body">
                        <ul data-aos="fade-right">
                            <li><i class="icofont-rounded-right"></i> <strong>Age:</strong> @Html.DisplayFor(model => model.Age)</li>
                            <li><i class="icofont-rounded-right"></i> <strong>Gender:</strong> @Html.DisplayFor(model => model.Gender)</li>
                            <li><i class="icofont-rounded-right"></i> <strong>Marital Status:</strong> @Html.DisplayFor(model => model.MaritalStatus)</li>
                            <li><i class="icofont-rounded-right"></i> <strong>Body Type:</strong> @Html.DisplayFor(model => model.BodyType)</li>
                        </ul>
                        <ul data-aos="fade-right">
                            <li><i class="icofont-rounded-right"></i> <strong>Mother Tongue:</strong> @Html.DisplayFor(model => model.MotherTongue)</li>
                            <li><i class="icofont-rounded-right"></i> <strong>Blood Group:</strong> @Html.DisplayFor(model => model.BloodGroup)</li>
                            <li><i class="icofont-rounded-right"></i> <strong>Religion:</strong> @Html.DisplayFor(model => model.Religion)</li>
                            <li><i class="icofont-rounded-right"></i> <strong>Caste:</strong> @Html.DisplayFor(model => model.Caste)</li>
                        </ul>
                    </div>
                </div>
                <div class="card border-dark mb-3">
                    <div class="card-body">
                        <ul data-aos="fade-left">
                            <li><i class="icofont-rounded-right"></i> <strong>Birthday:</strong> @Html.DisplayFor(model => model.strDateOfBirth)</li>
                            <li><i class="icofont-rounded-right"></i> <strong>Height:</strong> @Html.DisplayFor(model => model.Height)</li>
                            <li><i class="icofont-rounded-right"></i> <strong>Have Children:</strong> @Html.DisplayFor(model => model.strHaveChildren)</li>
                            <li><i class="icofont-rounded-right"></i> <strong>Complexion:</strong> @Html.DisplayFor(model => model.Complexion)</li>
                        </ul>
                        <ul data-aos="fade-left">
                            <li><i class="icofont-rounded-right"></i> <strong>Spoken Languages:</strong> @Html.DisplayFor(model => model.SpokenLanguages)</li>
                            <li><i class="icofont-rounded-right"></i> <strong>Current Location:</strong> @Html.DisplayFor(model => model.CurrentLocation)</li>
                            <li><i class="icofont-rounded-right"></i> <strong>Sub Caste:</strong> @Html.DisplayFor(model => model.SubCaste)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

<section id="allSections" style="margin-top:10px;">
    <div class="card-columns">
        <div class="card shadow-lg border-0 rounded-lg">
            <div class="card-header py-3 bg-primary text-white">
                <strong>Education Details</strong>
            </div>
            <div class="card-body">
                <div class="col-lg-12 pt-4 pt-lg-0 content" data-aos="fade-left">
                    <ul>
                        <li><i class="icofont-rounded-right"></i> <strong>Education:</strong> @Html.DisplayFor(model => model.Age)</li>
                        <li><i class="icofont-rounded-right"></i> <strong>University:</strong> @Html.DisplayFor(model => model.University)</li>
                        <li><i class="icofont-rounded-right"></i> <strong>Profession:</strong> @Html.DisplayFor(model => model.Profession)</li>
                        <li><i class="icofont-rounded-right"></i> <strong>Annual Income:</strong> @Html.DisplayFor(model => model.AnnualIncome)</li>
                        <li><i class="icofont-rounded-right"></i> <strong>Working At:</strong> @Html.DisplayFor(model => model.WorkingAt)</li>

                        @if (User.IsInRole("SuperAdmin") || User.IsInRole("Admin"))
                        {
                            <li><i class="icofont-rounded-right"></i> <strong>Phone Number:</strong> @Html.DisplayFor(model => model.PhoneNumber)</li>
                            <li><i class="icofont-rounded-right"></i> <strong>Contact Person Name:</strong> @Html.DisplayFor(model => model.ContactPersonName)</li>
                            <li><i class="icofont-rounded-right"></i> <strong>Contact Person Relationship:</strong> @Html.DisplayFor(model => model.ContactPersonRelationShip)</li>
                        }
                    </ul>
                </div>
            </div>
        </div>
        <div class="card shadow-lg border-0 rounded-lg">
            <div class="card-header py-3 bg-dark text-white">
                <strong>Hobbies</strong>
            </div>
            <div class="card-body">
                <div class="col-lg-12 pt-4 pt-lg-0 content" data-aos="fade-left">
                    @Html.DisplayFor(model => model.Hobbies)
                </div>
            </div>
        </div>
        <div class="card shadow-lg border-0 rounded-lg">
            <div class="card-header py-3 bg-success text-white">
                <strong>Favorite Music</strong>
            </div>
            <div class="card-body">
                <div class="col-lg-12 pt-4 pt-lg-0 content" data-aos="fade-left">
                    @Html.DisplayFor(model => model.FavoriteMusic)
                </div>
            </div>
        </div>
        <div class="card shadow-lg border-0 rounded-lg">
            <div class="card-header py-3 bg-primary text-white">
                <strong>Family Details</strong>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-lg-12 pt-4 pt-lg-0 content" data-aos="fade-left">
                        <ul>
                            <li><i class="icofont-rounded-right"></i> <strong>Father Name:</strong> @Html.DisplayFor(model => model.FatherName)</li>
                            <li><i class="icofont-rounded-right"></i> <strong>Mother Name:</strong> @Html.DisplayFor(model => model.MotherName)</li>
                            <li><i class="icofont-rounded-right"></i> <strong>Brothers:</strong> @Html.DisplayFor(model => model.Brothers)</li>
                            <li><i class="icofont-rounded-right"></i> <strong>Married Brothers:</strong> @Html.DisplayFor(model => model.MarriedBrothers)</li>
                            <li><i class="icofont-rounded-right"></i> <strong>FamilyValues:</strong> @Html.DisplayFor(model => model.FamilyValues)</li>
                            <li><i class="icofont-rounded-right"></i> <strong>Father Occupation:</strong> @Html.DisplayFor(model => model.FatherOccupation)</li>
                            <li><i class="icofont-rounded-right"></i> <strong>Mother Occupation:</strong> @Html.DisplayFor(model => model.MotherOccupation)</li>
                            <li><i class="icofont-rounded-right"></i> <strong>Sisters:</strong> @Html.DisplayFor(model => model.Sisters)</li>
                            <li><i class="icofont-rounded-right"></i> <strong>MarriedSisters:</strong> @Html.DisplayFor(model => model.MarriedSisters)</li>
                        </ul>
                        <div data-aos="fade-right">
                            <div class="section-title">
                                <strong>About Family:</strong>
                            </div>
                            @Html.DisplayFor(model => model.AboutFamily)
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card shadow-lg border-0 rounded-lg">
            <div class="card-header py-3 bg-dark text-white">
                <strong>Favorite Movies</strong>
            </div>
            <div class="card-body">
                <div class="col-lg-12 pt-4 pt-lg-0 content" data-aos="fade-left">
                    @Html.DisplayFor(model => model.FavoriteMovies)
                </div>
            </div>
        </div>
        <div class="card shadow-lg border-0 rounded-lg">
            <div class="card-header py-3 bg-success text-white">
                <strong>Favorite Cuisine</strong>
            </div>
            <div class="card-body">
                <div class="col-lg-12 pt-4 pt-lg-0 content" data-aos="fade-left">
                    @Html.DisplayFor(model => model.FavoriteCuisine)
                </div>
            </div>
        </div>
        <div class="card shadow-lg border-0 rounded-lg">
            <div class="card-header py-3 bg-primary text-white">
                <strong>Sports</strong>
            </div>
            <div class="card-body">
                <div class="col-lg-12 pt-4 pt-lg-0 content" data-aos="fade-left">
                    @Html.DisplayFor(model => model.Sports)
                </div>
            </div>
        </div>
        <div class="card shadow-lg border-0 rounded-lg">
            <div class="card-header py-3 bg-dark text-white">
                <strong>Preferred Dress</strong>
            </div>
            <div class="card-body">
                <div class="col-lg-12 pt-4 pt-lg-0 content" data-aos="fade-left">
                    @Html.DisplayFor(model => model.PreferredDress)
                </div>
            </div>
        </div>
        <div class="card shadow-lg border-0 rounded-lg">
            <div class="card-header py-3 bg-success text-white">
                <strong>Horoscope</strong>
            </div>
            <div class="card-body">
                <div class="col-lg-12 pt-4 pt-lg-0 content" data-aos="fade-left">
                    <ul>
                        <li><i class="icofont-rounded-right"></i> <strong>Gothram:</strong> @Html.DisplayFor(model => model.Gothram)</li>
                        <li><i class="icofont-rounded-right"></i> <strong>Rasi:</strong> @Html.DisplayFor(model => model.Rasi)</li>
                        <li><i class="icofont-rounded-right"></i> <strong>Nakshatram:</strong> @Html.DisplayFor(model => model.Nakshatram)</li>
                        <li><i class="icofont-rounded-right"></i> <strong>Manglik:</strong> @Html.DisplayFor(model => model.Manglik)</li>
                    </ul>
                    <div data-aos="fade-right">
                        <div class="section-title">
                            <strong>Astrology Profile:</strong>
                        </div>
                        @Html.DisplayFor(model => model.AstroProfile)
                    </div>
                </div>
            </div>
        </div>
        <div class="card shadow-lg border-0 rounded-lg">
            <div class="card-header py-3 bg-primary text-white">
                <strong>Partner Preference</strong>
            </div>
            <div class="card-body">
                <div class="col-lg-12 pt-4 pt-lg-0 content" data-aos="fade-left">
                    <ul>
                        <li><i class="icofont-rounded-right"></i> <strong>Age:</strong> @Html.DisplayFor(model => model.PartnerPreference.AgeFrom) to  @Html.DisplayFor(model => model.PartnerPreference.AgeTo)</li>
                        <li><i class="icofont-rounded-right"></i> <strong>Gender:</strong> @Html.DisplayFor(model => model.PartnerPreference.Gender)</li>
                        <li><i class="icofont-rounded-right"></i> <strong>Marital Status:</strong> @Html.DisplayFor(model => model.PartnerPreference.MaritalStatus)</li>
                        <li><i class="icofont-rounded-right"></i> <strong>Height:</strong> @Html.DisplayFor(model => model.PartnerPreference.HeightFrom) to  @Html.DisplayFor(model => model.PartnerPreference.HeightTo)</li>
                        <li><i class="icofont-rounded-right"></i> <strong>Body Type:</strong> @Html.DisplayFor(model => model.PartnerPreference.BodyType)</li>
                        <li><i class="icofont-rounded-right"></i> <strong>Complexion:</strong> @Html.DisplayFor(model => model.PartnerPreference.Complexion)</li>
                        <li><i class="icofont-rounded-right"></i> <strong>Mother Tongue:</strong> @Html.DisplayFor(model => model.PartnerPreference.MotherTongue)</li>
                        <li><i class="icofont-rounded-right"></i> <strong>Religion:</strong> @Html.DisplayFor(model => model.PartnerPreference.Religion)/@Html.DisplayFor(model => model.PartnerPreference.Caste)/@Html.DisplayFor(model => model.PartnerPreference.SubCaste)</li>
                        <li><i class="icofont-rounded-right"></i> <strong>Diet:</strong> @Html.DisplayFor(model => model.PartnerPreference.Diet)</li>
                        <li><i class="icofont-rounded-right"></i> <strong>Smoke:</strong> @Html.DisplayFor(model => model.PartnerPreference.Smoke)</li>
                        <li><i class="icofont-rounded-right"></i> <strong>Drink:</strong> @Html.DisplayFor(model => model.PartnerPreference.Drink)</li>
                        <li><i class="icofont-rounded-right"></i> <strong>Location:</strong> @Html.DisplayFor(model => model.PartnerPreference.Location)</li>
                        <li><i class="icofont-rounded-right"></i> <strong>Manglik:</strong> @Html.DisplayFor(model => model.PartnerPreference.Manglik)</li>
                        <li><i class="icofont-rounded-right"></i> <strong>Education:</strong> @Html.DisplayFor(model => model.PartnerPreference.Education)</li>
                        <li><i class="icofont-rounded-right"></i> <strong>Profession:</strong> @Html.DisplayFor(model => model.PartnerPreference.Profession)</li>
                    </ul>
                    <div data-aos="fade-right">
                        <div class="section-title">
                            <strong>Summary:</strong>
                        </div>
                        @Html.DisplayFor(model => model.PartnerPreference.Description)
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

@if (Model.profileImages != null && Model.profileImages.Count > 0)
{
    @*<div class="row">
        <div class="col-lg-3">
            
        </div>
        <div class="col-lg-6 text-center">

            <div id="carouselExampleIndicators" class="carousel slide carousel-fade" data-ride="carousel">
                <ol class="carousel-indicators">
                    @for (int i = 0; i < Model.profileImages.Count; i++)
                    {
                        if (i == 0)
                        {
                            <li data-target="#carouselExampleIndicators" data-slide-to="@i" class="active"></li>
                        }
                        else
                        {
                            <li data-target="#carouselExampleIndicators" data-slide-to="@i"></li>
                        }
                    }
                </ol>
                <div class="carousel-inner">
                    @for (int i = 0; i < Model.profileImages.Count; i++)
                    {
                        if (i == 0)
                        {
                            <div class="carousel-item active">
                                <img class="d-block" style="width:360px; height:auto" asp-append-version="true" src='/images/@Model.profileImages[i]'>
                            </div>
                        }
                        else
                        {
                            <div class="carousel-item">
                                <img class="d-block" style="width:360px; height:auto"  asp-append-version="true" src='/images/@Model.profileImages[i]'>
                            </div>
                        }
                    }
                </div>
                <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </div>
        <div class="col-lg-3">
            
        </div>
    </div>*@

    <partial name="~/Views/Partials/_ProfilePicCarousel.cshtml" model="@Model" />
}



<!-- Delete Modal-->
<div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="deleteModalLabel">Are you sure, you want to delete?</h5>
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                Select <strong>"Delete"</strong> below if you want to delete the profile of:
                <strong><div name="userFullName" id="userFullName"></div></strong>
                <input type="hidden" name="userId" id="userId" value="" />
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                <form method="post" asp-action="DeleteProfile" asp-route-userId="@Model.UserId">
                    <button type="submit" class="btn btn-danger">Delete</button>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    function getProfileDetails(obj) {
        var userId = $(obj).data('id');
        var fullName = $(obj).data('fullname');
        $(".modal-body #userId").val(userId);
        $(".modal-body #userFullName").html(fullName);
    }
</script>

